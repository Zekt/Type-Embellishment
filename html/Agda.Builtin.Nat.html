<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Agda.Builtin.Nat</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--safe</a> <a id="32" class="Pragma">--no-universe-polymorphism</a>
            <a id="71" class="Pragma">--no-sized-types</a> <a id="88" class="Pragma">--no-guardedness</a> <a id="105" class="Symbol">#-}</a>

<a id="110" class="Keyword">module</a> <a id="117" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="134" class="Keyword">where</a>

<a id="141" class="Keyword">open</a> <a id="146" class="Keyword">import</a> <a id="153" href="Agda.Builtin.Bool.html" class="Module">Agda.Builtin.Bool</a>

<a id="172" class="Keyword">data</a> <a id="Nat"></a><a id="177" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a> <a id="181" class="Symbol">:</a> <a id="183" href="Agda.Primitive.html#311" class="Primitive">Set</a> <a id="187" class="Keyword">where</a>
  <a id="Nat.zero"></a><a id="195" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a> <a id="200" class="Symbol">:</a> <a id="202" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a>
  <a id="Nat.suc"></a><a id="208" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a>  <a id="213" class="Symbol">:</a> <a id="215" class="Symbol">(</a><a id="216" href="Agda.Builtin.Nat.html#216" class="Bound">n</a> <a id="218" class="Symbol">:</a> <a id="220" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a><a id="223" class="Symbol">)</a> <a id="225" class="Symbol">→</a> <a id="227" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a>

<a id="232" class="Symbol">{-#</a> <a id="236" class="Keyword">BUILTIN</a> <a id="244" class="Keyword">NATURAL</a> <a id="252" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a> <a id="256" class="Symbol">#-}</a>

<a id="261" class="Keyword">infix</a>  <a id="268" class="Number">4</a> <a id="270" href="Agda.Builtin.Nat.html#605" class="Primitive Operator">_==_</a> <a id="275" href="Agda.Builtin.Nat.html#731" class="Primitive Operator">_&lt;_</a>
<a id="279" class="Keyword">infixl</a> <a id="286" class="Number">6</a> <a id="288" href="Agda.Builtin.Nat.html#310" class="Primitive Operator">_+_</a> <a id="292" href="Agda.Builtin.Nat.html#400" class="Primitive Operator">_-_</a>
<a id="296" class="Keyword">infixl</a> <a id="303" class="Number">7</a> <a id="305" href="Agda.Builtin.Nat.html#513" class="Primitive Operator">_*_</a>

<a id="_+_"></a><a id="310" href="Agda.Builtin.Nat.html#310" class="Function Operator">_+_</a> <a id="314" class="Symbol">:</a> <a id="316" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a> <a id="320" class="Symbol">→</a> <a id="322" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a> <a id="326" class="Symbol">→</a> <a id="328" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a>
<a id="332" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a>  <a id="338" href="Agda.Builtin.Nat.html#310" class="Function Operator">+</a> <a id="340" href="Agda.Builtin.Nat.html#340" class="Bound">m</a> <a id="342" class="Symbol">=</a> <a id="344" href="Agda.Builtin.Nat.html#340" class="Bound">m</a>
<a id="346" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="350" href="Agda.Builtin.Nat.html#350" class="Bound">n</a> <a id="352" href="Agda.Builtin.Nat.html#310" class="Function Operator">+</a> <a id="354" href="Agda.Builtin.Nat.html#354" class="Bound">m</a> <a id="356" class="Symbol">=</a> <a id="358" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="362" class="Symbol">(</a><a id="363" href="Agda.Builtin.Nat.html#350" class="Bound">n</a> <a id="365" href="Agda.Builtin.Nat.html#310" class="Function Operator">+</a> <a id="367" href="Agda.Builtin.Nat.html#354" class="Bound">m</a><a id="368" class="Symbol">)</a>

<a id="371" class="Symbol">{-#</a> <a id="375" class="Keyword">BUILTIN</a> <a id="383" class="Keyword">NATPLUS</a> <a id="391" href="Agda.Builtin.Nat.html#310" class="Primitive Operator">_+_</a> <a id="395" class="Symbol">#-}</a>

<a id="_-_"></a><a id="400" href="Agda.Builtin.Nat.html#400" class="Function Operator">_-_</a> <a id="404" class="Symbol">:</a> <a id="406" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a> <a id="410" class="Symbol">→</a> <a id="412" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a> <a id="416" class="Symbol">→</a> <a id="418" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a>
<a id="422" href="Agda.Builtin.Nat.html#422" class="Bound">n</a>     <a id="428" href="Agda.Builtin.Nat.html#400" class="Function Operator">-</a> <a id="430" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a> <a id="435" class="Symbol">=</a> <a id="437" href="Agda.Builtin.Nat.html#422" class="Bound">n</a>
<a id="439" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a>  <a id="445" href="Agda.Builtin.Nat.html#400" class="Function Operator">-</a> <a id="447" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="451" href="Agda.Builtin.Nat.html#451" class="Bound">m</a> <a id="453" class="Symbol">=</a> <a id="455" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a>
<a id="460" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="464" href="Agda.Builtin.Nat.html#464" class="Bound">n</a> <a id="466" href="Agda.Builtin.Nat.html#400" class="Function Operator">-</a> <a id="468" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="472" href="Agda.Builtin.Nat.html#472" class="Bound">m</a> <a id="474" class="Symbol">=</a> <a id="476" href="Agda.Builtin.Nat.html#464" class="Bound">n</a> <a id="478" href="Agda.Builtin.Nat.html#400" class="Function Operator">-</a> <a id="480" href="Agda.Builtin.Nat.html#472" class="Bound">m</a>

<a id="483" class="Symbol">{-#</a> <a id="487" class="Keyword">BUILTIN</a> <a id="495" class="Keyword">NATMINUS</a> <a id="504" href="Agda.Builtin.Nat.html#400" class="Primitive Operator">_-_</a> <a id="508" class="Symbol">#-}</a>

<a id="_*_"></a><a id="513" href="Agda.Builtin.Nat.html#513" class="Function Operator">_*_</a> <a id="517" class="Symbol">:</a> <a id="519" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a> <a id="523" class="Symbol">→</a> <a id="525" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a> <a id="529" class="Symbol">→</a> <a id="531" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a>
<a id="535" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a>  <a id="541" href="Agda.Builtin.Nat.html#513" class="Function Operator">*</a> <a id="543" href="Agda.Builtin.Nat.html#543" class="Bound">m</a> <a id="545" class="Symbol">=</a> <a id="547" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a>
<a id="552" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="556" href="Agda.Builtin.Nat.html#556" class="Bound">n</a> <a id="558" href="Agda.Builtin.Nat.html#513" class="Function Operator">*</a> <a id="560" href="Agda.Builtin.Nat.html#560" class="Bound">m</a> <a id="562" class="Symbol">=</a> <a id="564" href="Agda.Builtin.Nat.html#560" class="Bound">m</a> <a id="566" href="Agda.Builtin.Nat.html#310" class="Primitive Operator">+</a> <a id="568" href="Agda.Builtin.Nat.html#556" class="Bound">n</a> <a id="570" href="Agda.Builtin.Nat.html#513" class="Function Operator">*</a> <a id="572" href="Agda.Builtin.Nat.html#560" class="Bound">m</a>

<a id="575" class="Symbol">{-#</a> <a id="579" class="Keyword">BUILTIN</a> <a id="587" class="Keyword">NATTIMES</a> <a id="596" href="Agda.Builtin.Nat.html#513" class="Primitive Operator">_*_</a> <a id="600" class="Symbol">#-}</a>

<a id="_==_"></a><a id="605" href="Agda.Builtin.Nat.html#605" class="Function Operator">_==_</a> <a id="610" class="Symbol">:</a> <a id="612" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a> <a id="616" class="Symbol">→</a> <a id="618" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a> <a id="622" class="Symbol">→</a> <a id="624" href="Agda.Builtin.Bool.html#147" class="Datatype">Bool</a>
<a id="629" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a>  <a id="635" href="Agda.Builtin.Nat.html#605" class="Function Operator">==</a> <a id="638" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a>  <a id="644" class="Symbol">=</a> <a id="646" href="Agda.Builtin.Bool.html#172" class="InductiveConstructor">true</a>
<a id="651" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="655" href="Agda.Builtin.Nat.html#655" class="Bound">n</a> <a id="657" href="Agda.Builtin.Nat.html#605" class="Function Operator">==</a> <a id="660" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="664" href="Agda.Builtin.Nat.html#664" class="Bound">m</a> <a id="666" class="Symbol">=</a> <a id="668" href="Agda.Builtin.Nat.html#655" class="Bound">n</a> <a id="670" href="Agda.Builtin.Nat.html#605" class="Function Operator">==</a> <a id="673" href="Agda.Builtin.Nat.html#664" class="Bound">m</a>
<a id="675" class="CatchallClause Symbol">_</a><a id="676" class="CatchallClause">     </a><a id="681" href="Agda.Builtin.Nat.html#605" class="CatchallClause Function Operator">==</a><a id="683" class="CatchallClause"> </a><a id="684" class="CatchallClause Symbol">_</a>     <a id="690" class="Symbol">=</a> <a id="692" href="Agda.Builtin.Bool.html#166" class="InductiveConstructor">false</a>

<a id="699" class="Symbol">{-#</a> <a id="703" class="Keyword">BUILTIN</a> <a id="711" class="Keyword">NATEQUALS</a> <a id="721" href="Agda.Builtin.Nat.html#605" class="Primitive Operator">_==_</a> <a id="726" class="Symbol">#-}</a>

<a id="_&lt;_"></a><a id="731" href="Agda.Builtin.Nat.html#731" class="Function Operator">_&lt;_</a> <a id="735" class="Symbol">:</a> <a id="737" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a> <a id="741" class="Symbol">→</a> <a id="743" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a> <a id="747" class="Symbol">→</a> <a id="749" href="Agda.Builtin.Bool.html#147" class="Datatype">Bool</a>
<a id="754" class="Symbol">_</a>     <a id="760" href="Agda.Builtin.Nat.html#731" class="Function Operator">&lt;</a> <a id="762" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a>  <a id="768" class="Symbol">=</a> <a id="770" href="Agda.Builtin.Bool.html#166" class="InductiveConstructor">false</a>
<a id="776" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a>  <a id="782" href="Agda.Builtin.Nat.html#731" class="Function Operator">&lt;</a> <a id="784" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="788" class="Symbol">_</a> <a id="790" class="Symbol">=</a> <a id="792" href="Agda.Builtin.Bool.html#172" class="InductiveConstructor">true</a>
<a id="797" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="801" href="Agda.Builtin.Nat.html#801" class="Bound">n</a> <a id="803" href="Agda.Builtin.Nat.html#731" class="Function Operator">&lt;</a> <a id="805" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="809" href="Agda.Builtin.Nat.html#809" class="Bound">m</a> <a id="811" class="Symbol">=</a> <a id="813" href="Agda.Builtin.Nat.html#801" class="Bound">n</a> <a id="815" href="Agda.Builtin.Nat.html#731" class="Function Operator">&lt;</a> <a id="817" href="Agda.Builtin.Nat.html#809" class="Bound">m</a>

<a id="820" class="Symbol">{-#</a> <a id="824" class="Keyword">BUILTIN</a> <a id="832" class="Keyword">NATLESS</a> <a id="840" href="Agda.Builtin.Nat.html#731" class="Primitive Operator">_&lt;_</a> <a id="844" class="Symbol">#-}</a>

<a id="849" class="Comment">-- Helper function  div-helper  for Euclidean division.</a>
<a id="905" class="Comment">---------------------------------------------------------------------------</a>
<a id="981" class="Comment">--</a>
<a id="984" class="Comment">-- div-helper computes n / 1+m via iteration on n.</a>
<a id="1035" class="Comment">--</a>
<a id="1038" class="Comment">--   n div (suc m) = div-helper 0 m n m</a>
<a id="1078" class="Comment">--</a>
<a id="1081" class="Comment">-- The state of the iterator has two accumulator variables:</a>
<a id="1141" class="Comment">--</a>
<a id="1144" class="Comment">--   k: The quotient, returned once n=0.  Initialized to 0.</a>
<a id="1204" class="Comment">--</a>
<a id="1207" class="Comment">--   j: A counter, initialized to the divisor m, decreased on each iteration step.</a>
<a id="1290" class="Comment">--      Once it reaches 0, the quotient k is increased and j reset to m,</a>
<a id="1363" class="Comment">--      starting the next countdown.</a>
<a id="1400" class="Comment">--</a>
<a id="1403" class="Comment">-- Under the precondition j ≤ m, the invariant is</a>
<a id="1453" class="Comment">--</a>
<a id="1456" class="Comment">--   div-helper k m n j = k + (n + m - j) div (1 + m)</a>

<a id="div-helper"></a><a id="1511" href="Agda.Builtin.Nat.html#1511" class="Function">div-helper</a> <a id="1522" class="Symbol">:</a> <a id="1524" class="Symbol">(</a><a id="1525" href="Agda.Builtin.Nat.html#1525" class="Bound">k</a> <a id="1527" href="Agda.Builtin.Nat.html#1527" class="Bound">m</a> <a id="1529" href="Agda.Builtin.Nat.html#1529" class="Bound">n</a> <a id="1531" href="Agda.Builtin.Nat.html#1531" class="Bound">j</a> <a id="1533" class="Symbol">:</a> <a id="1535" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a><a id="1538" class="Symbol">)</a> <a id="1540" class="Symbol">→</a> <a id="1542" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a>
<a id="1546" href="Agda.Builtin.Nat.html#1511" class="Function">div-helper</a> <a id="1557" href="Agda.Builtin.Nat.html#1557" class="Bound">k</a> <a id="1559" href="Agda.Builtin.Nat.html#1559" class="Bound">m</a>  <a id="1562" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a>    <a id="1570" href="Agda.Builtin.Nat.html#1570" class="Bound">j</a>      <a id="1577" class="Symbol">=</a> <a id="1579" href="Agda.Builtin.Nat.html#1557" class="Bound">k</a>
<a id="1581" href="Agda.Builtin.Nat.html#1511" class="Function">div-helper</a> <a id="1592" href="Agda.Builtin.Nat.html#1592" class="Bound">k</a> <a id="1594" href="Agda.Builtin.Nat.html#1594" class="Bound">m</a> <a id="1596" class="Symbol">(</a><a id="1597" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="1601" href="Agda.Builtin.Nat.html#1601" class="Bound">n</a><a id="1602" class="Symbol">)</a>  <a id="1605" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a>   <a id="1612" class="Symbol">=</a> <a id="1614" href="Agda.Builtin.Nat.html#1511" class="Function">div-helper</a> <a id="1625" class="Symbol">(</a><a id="1626" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="1630" href="Agda.Builtin.Nat.html#1592" class="Bound">k</a><a id="1631" class="Symbol">)</a> <a id="1633" href="Agda.Builtin.Nat.html#1594" class="Bound">m</a> <a id="1635" href="Agda.Builtin.Nat.html#1601" class="Bound">n</a> <a id="1637" href="Agda.Builtin.Nat.html#1594" class="Bound">m</a>
<a id="1639" href="Agda.Builtin.Nat.html#1511" class="Function">div-helper</a> <a id="1650" href="Agda.Builtin.Nat.html#1650" class="Bound">k</a> <a id="1652" href="Agda.Builtin.Nat.html#1652" class="Bound">m</a> <a id="1654" class="Symbol">(</a><a id="1655" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="1659" href="Agda.Builtin.Nat.html#1659" class="Bound">n</a><a id="1660" class="Symbol">)</a> <a id="1662" class="Symbol">(</a><a id="1663" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="1667" href="Agda.Builtin.Nat.html#1667" class="Bound">j</a><a id="1668" class="Symbol">)</a> <a id="1670" class="Symbol">=</a> <a id="1672" href="Agda.Builtin.Nat.html#1511" class="Function">div-helper</a> <a id="1683" href="Agda.Builtin.Nat.html#1650" class="Bound">k</a>       <a id="1691" href="Agda.Builtin.Nat.html#1652" class="Bound">m</a> <a id="1693" href="Agda.Builtin.Nat.html#1659" class="Bound">n</a> <a id="1695" href="Agda.Builtin.Nat.html#1667" class="Bound">j</a>

<a id="1698" class="Symbol">{-#</a> <a id="1702" class="Keyword">BUILTIN</a> <a id="1710" class="Keyword">NATDIVSUCAUX</a> <a id="1723" href="Agda.Builtin.Nat.html#1511" class="Primitive">div-helper</a> <a id="1734" class="Symbol">#-}</a>

<a id="1739" class="Comment">-- Proof of the invariant by induction on n.</a>
<a id="1784" class="Comment">--</a>
<a id="1787" class="Comment">--   clause 1: div-helper k m 0 j</a>
<a id="1821" class="Comment">--           = k                                        by definition</a>
<a id="1891" class="Comment">--           = k + (0 + m - j) div (1 + m)              since m - j &lt; 1 + m</a>
<a id="1967" class="Comment">--</a>
<a id="1970" class="Comment">--   clause 2: div-helper k m (1 + n) 0</a>
<a id="2010" class="Comment">--           = div-helper (1 + k) m n m                 by definition</a>
<a id="2080" class="Comment">--           = 1 + k + (n + m - m) div (1 + m)          by induction hypothesis</a>
<a id="2160" class="Comment">--           = 1 + k +          n  div (1 + m)          by simplification</a>
<a id="2234" class="Comment">--           = k +   (n + (1 + m)) div (1 + m)          by expansion</a>
<a id="2303" class="Comment">--           = k + (1 + n + m - 0) div (1 + m)          by expansion</a>
<a id="2372" class="Comment">--</a>
<a id="2375" class="Comment">--   clause 3: div-helper k m (1 + n) (1 + j)</a>
<a id="2421" class="Comment">--           = div-helper k m n j                       by definition</a>
<a id="2491" class="Comment">--           = k + (n + m - j) div (1 + m)              by induction hypothesis</a>
<a id="2571" class="Comment">--           = k + ((1 + n) + m - (1 + j)) div (1 + m)  by expansion</a>
<a id="2640" class="Comment">--</a>
<a id="2643" class="Comment">-- Q.e.d.</a>

<a id="2654" class="Comment">-- Helper function  mod-helper  for the remainder computation.</a>
<a id="2717" class="Comment">---------------------------------------------------------------------------</a>
<a id="2793" class="Comment">--</a>
<a id="2796" class="Comment">-- (Analogous to div-helper.)</a>
<a id="2826" class="Comment">--</a>
<a id="2829" class="Comment">-- mod-helper computes n % 1+m via iteration on n.</a>
<a id="2880" class="Comment">--</a>
<a id="2883" class="Comment">--   n mod (suc m) = mod-helper 0 m n m</a>
<a id="2923" class="Comment">--</a>
<a id="2926" class="Comment">-- The invariant is:</a>
<a id="2947" class="Comment">--</a>
<a id="2950" class="Comment">--   m = k + j  ==&gt;  mod-helper k m n j = (n + k) mod (1 + m).</a>

<a id="mod-helper"></a><a id="3014" href="Agda.Builtin.Nat.html#3014" class="Function">mod-helper</a> <a id="3025" class="Symbol">:</a> <a id="3027" class="Symbol">(</a><a id="3028" href="Agda.Builtin.Nat.html#3028" class="Bound">k</a> <a id="3030" href="Agda.Builtin.Nat.html#3030" class="Bound">m</a> <a id="3032" href="Agda.Builtin.Nat.html#3032" class="Bound">n</a> <a id="3034" href="Agda.Builtin.Nat.html#3034" class="Bound">j</a> <a id="3036" class="Symbol">:</a> <a id="3038" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a><a id="3041" class="Symbol">)</a> <a id="3043" class="Symbol">→</a> <a id="3045" href="Agda.Builtin.Nat.html#177" class="Datatype">Nat</a>
<a id="3049" href="Agda.Builtin.Nat.html#3014" class="Function">mod-helper</a> <a id="3060" href="Agda.Builtin.Nat.html#3060" class="Bound">k</a> <a id="3062" href="Agda.Builtin.Nat.html#3062" class="Bound">m</a>  <a id="3065" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a>    <a id="3073" href="Agda.Builtin.Nat.html#3073" class="Bound">j</a>      <a id="3080" class="Symbol">=</a> <a id="3082" href="Agda.Builtin.Nat.html#3060" class="Bound">k</a>
<a id="3084" href="Agda.Builtin.Nat.html#3014" class="Function">mod-helper</a> <a id="3095" href="Agda.Builtin.Nat.html#3095" class="Bound">k</a> <a id="3097" href="Agda.Builtin.Nat.html#3097" class="Bound">m</a> <a id="3099" class="Symbol">(</a><a id="3100" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="3104" href="Agda.Builtin.Nat.html#3104" class="Bound">n</a><a id="3105" class="Symbol">)</a>  <a id="3108" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a>   <a id="3115" class="Symbol">=</a> <a id="3117" href="Agda.Builtin.Nat.html#3014" class="Function">mod-helper</a> <a id="3128" class="Number">0</a>       <a id="3136" href="Agda.Builtin.Nat.html#3097" class="Bound">m</a> <a id="3138" href="Agda.Builtin.Nat.html#3104" class="Bound">n</a> <a id="3140" href="Agda.Builtin.Nat.html#3097" class="Bound">m</a>
<a id="3142" href="Agda.Builtin.Nat.html#3014" class="Function">mod-helper</a> <a id="3153" href="Agda.Builtin.Nat.html#3153" class="Bound">k</a> <a id="3155" href="Agda.Builtin.Nat.html#3155" class="Bound">m</a> <a id="3157" class="Symbol">(</a><a id="3158" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="3162" href="Agda.Builtin.Nat.html#3162" class="Bound">n</a><a id="3163" class="Symbol">)</a> <a id="3165" class="Symbol">(</a><a id="3166" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="3170" href="Agda.Builtin.Nat.html#3170" class="Bound">j</a><a id="3171" class="Symbol">)</a> <a id="3173" class="Symbol">=</a> <a id="3175" href="Agda.Builtin.Nat.html#3014" class="Function">mod-helper</a> <a id="3186" class="Symbol">(</a><a id="3187" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="3191" href="Agda.Builtin.Nat.html#3153" class="Bound">k</a><a id="3192" class="Symbol">)</a> <a id="3194" href="Agda.Builtin.Nat.html#3155" class="Bound">m</a> <a id="3196" href="Agda.Builtin.Nat.html#3162" class="Bound">n</a> <a id="3198" href="Agda.Builtin.Nat.html#3170" class="Bound">j</a>

<a id="3201" class="Symbol">{-#</a> <a id="3205" class="Keyword">BUILTIN</a> <a id="3213" class="Keyword">NATMODSUCAUX</a> <a id="3226" href="Agda.Builtin.Nat.html#3014" class="Primitive">mod-helper</a> <a id="3237" class="Symbol">#-}</a>

<a id="3242" class="Comment">-- Proof of the invariant by induction on n.</a>
<a id="3287" class="Comment">--</a>
<a id="3290" class="Comment">--   clause 1: mod-helper k m 0 j</a>
<a id="3324" class="Comment">--           = k                               by definition</a>
<a id="3385" class="Comment">--           = (0 + k) mod (1 + m)             since m = k + j, thus k &lt; m</a>
<a id="3460" class="Comment">--</a>
<a id="3463" class="Comment">--   clause 2: mod-helper k m (1 + n) 0</a>
<a id="3503" class="Comment">--           = mod-helper 0 m n m              by definition</a>
<a id="3564" class="Comment">--           = (n + 0)       mod (1 + m)       by induction hypothesis</a>
<a id="3635" class="Comment">--           = (n + (1 + m)) mod (1 + m)       by expansion</a>
<a id="3695" class="Comment">--           = (1 + n) + k)  mod (1 + m)       since k = m (as l = 0)</a>
<a id="3765" class="Comment">--</a>
<a id="3768" class="Comment">--   clause 3: mod-helper k m (1 + n) (1 + j)</a>
<a id="3814" class="Comment">--           = mod-helper (1 + k) m n j        by definition</a>
<a id="3875" class="Comment">--           = (n + (1 + k)) mod (1 + m)       by induction hypothesis</a>
<a id="3946" class="Comment">--           = ((1 + n) + k) mod (1 + m)       by commutativity</a>
<a id="4010" class="Comment">--</a>
<a id="4013" class="Comment">-- Q.e.d.</a>
</pre></body></html>