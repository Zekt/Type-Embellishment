<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Utils.Reflection.Tactic</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--without-K</a> <a id="32" class="Symbol">#-}</a>
<a id="36" class="Keyword">open</a> <a id="41" class="Keyword">import</a> <a id="48" href="Prelude.html" class="Module">Prelude</a>
  <a id="58" class="Keyword">hiding</a> <a id="65" class="Symbol">(</a><a id="66" href="Prelude.Sum.html#214" class="Function Operator">[_,_]</a><a id="71" class="Symbol">)</a>

<a id="74" class="Keyword">module</a> <a id="81" href="Utils.Reflection.Tactic.html" class="Module">Utils.Reflection.Tactic</a> <a id="105" class="Keyword">where</a>

<a id="112" class="Keyword">open</a> <a id="117" class="Keyword">import</a> <a id="124" href="Utils.Reflection.Core.html" class="Module">Utils.Reflection.Core</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Utils.Reflection.Show.html" class="Module">Utils.Reflection.Show</a>
<a id="180" class="Keyword">open</a> <a id="185" class="Keyword">import</a> <a id="192" href="Utils.Reflection.Term.html" class="Module">Utils.Reflection.Term</a>
<a id="214" class="Keyword">import</a> <a id="221" href="Utils.Error.html" class="Module">Utils.Error</a> <a id="233" class="Symbol">as</a> <a id="236" class="Module">Err</a>

<a id="241" class="Keyword">private</a> <a id="249" class="Keyword">variable</a>
  <a id="260" href="Utils.Reflection.Tactic.html#260" class="Generalizable">A</a> <a id="262" class="Symbol">:</a> <a id="264" href="Agda.Primitive.html#311" class="Primitive">Set</a> <a id="268" href="Prelude.Level.html#316" class="Generalizable">ℓ</a>

<a id="dprint"></a><a id="271" href="Utils.Reflection.Tactic.html#271" class="Function">dprint</a> <a id="278" class="Symbol">=</a> <a id="280" href="Agda.Builtin.Reflection.html#10132" class="Postulate">debugPrint</a> <a id="291" class="String">&quot;meta&quot;</a> <a id="298" class="Number">5</a>

<a id="give"></a><a id="301" href="Utils.Reflection.Tactic.html#301" class="Function">give</a> <a id="306" class="Symbol">:</a> <a id="308" href="Agda.Builtin.Reflection.html#4661" class="Datatype">Term</a> <a id="313" class="Symbol">→</a> <a id="315" href="Utils.Reflection.Core.html#546" class="Function">Tactic</a>
<a id="322" href="Utils.Reflection.Tactic.html#301" class="Function">give</a> <a id="327" href="Utils.Reflection.Tactic.html#327" class="Bound">v</a> <a id="329" class="Symbol">=</a> <a id="331" class="Symbol">λ</a> <a id="333" href="Utils.Reflection.Tactic.html#333" class="Bound">hole</a> <a id="338" class="Symbol">→</a> <a id="340" href="Agda.Builtin.Reflection.html#8443" class="Postulate">unify</a> <a id="346" href="Utils.Reflection.Tactic.html#333" class="Bound">hole</a> <a id="351" href="Utils.Reflection.Tactic.html#327" class="Bound">v</a>

<a id="define"></a><a id="354" href="Utils.Reflection.Tactic.html#354" class="Function">define</a> <a id="361" class="Symbol">:</a> <a id="363" href="Agda.Builtin.Reflection.html#3670" class="Datatype">Arg</a> <a id="367" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="372" class="Symbol">→</a> <a id="374" href="Agda.Builtin.Reflection.html#4732" class="Function">Type</a> <a id="379" class="Symbol">→</a> <a id="381" href="Utils.Reflection.Core.html#419" class="Function">Clauses</a> <a id="389" class="Symbol">→</a> <a id="391" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="394" href="Agda.Builtin.Unit.html#149" class="Record">⊤</a>
<a id="396" href="Utils.Reflection.Tactic.html#354" class="Function">define</a> <a id="403" href="Utils.Reflection.Tactic.html#403" class="Bound">f</a> <a id="405" href="Utils.Reflection.Tactic.html#405" class="Bound">a</a> <a id="407" href="Utils.Reflection.Tactic.html#407" class="Bound">cs</a> <a id="410" class="Symbol">=</a> <a id="412" href="Agda.Builtin.Reflection.html#9121" class="Postulate">declareDef</a> <a id="423" href="Utils.Reflection.Tactic.html#403" class="Bound">f</a> <a id="425" href="Utils.Reflection.Tactic.html#405" class="Bound">a</a> <a id="427" href="Prelude.Monad.html#467" class="Function Operator">&gt;&gt;</a> <a id="430" href="Agda.Builtin.Reflection.html#9317" class="Postulate">defineFun</a> <a id="440" class="Symbol">(</a><a id="441" href="Utils.Reflection.Core.html#3498" class="Function">unArg</a> <a id="447" href="Utils.Reflection.Tactic.html#403" class="Bound">f</a><a id="448" class="Symbol">)</a> <a id="450" href="Utils.Reflection.Tactic.html#407" class="Bound">cs</a>

<a id="define!"></a><a id="454" href="Utils.Reflection.Tactic.html#454" class="Function">define!</a> <a id="462" class="Symbol">:</a> <a id="464" href="Agda.Builtin.Reflection.html#3670" class="Datatype">Arg</a> <a id="468" href="Agda.Builtin.Reflection.html#4732" class="Function">Type</a> <a id="473" class="Symbol">→</a> <a id="475" href="Utils.Reflection.Core.html#419" class="Function">Clauses</a> <a id="483" class="Symbol">→</a> <a id="485" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="488" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a>
<a id="493" href="Utils.Reflection.Tactic.html#454" class="Function">define!</a> <a id="501" class="Symbol">(</a><a id="502" href="Agda.Builtin.Reflection.html#3706" class="InductiveConstructor">arg</a> <a id="506" href="Utils.Reflection.Tactic.html#506" class="Bound">i</a> <a id="508" href="Utils.Reflection.Tactic.html#508" class="Bound">a</a><a id="509" class="Symbol">)</a> <a id="511" href="Utils.Reflection.Tactic.html#511" class="Bound">cs</a> <a id="514" class="Symbol">=</a> <a id="516" class="Keyword">do</a>
  <a id="521" href="Utils.Reflection.Tactic.html#521" class="Bound">f</a> <a id="523" href="Prelude.Monad.html#396" class="Field Operator">←</a> <a id="525" href="Agda.Builtin.Reflection.html#9083" class="Postulate">freshName</a> <a id="535" class="String">&quot;_&quot;</a>
  <a id="541" href="Utils.Reflection.Tactic.html#354" class="Function">define</a> <a id="548" class="Symbol">(</a><a id="549" href="Agda.Builtin.Reflection.html#3706" class="InductiveConstructor">arg</a> <a id="553" href="Utils.Reflection.Tactic.html#506" class="Bound">i</a> <a id="555" href="Utils.Reflection.Tactic.html#521" class="Bound">f</a><a id="556" class="Symbol">)</a> <a id="558" href="Utils.Reflection.Tactic.html#508" class="Bound">a</a> <a id="560" href="Utils.Reflection.Tactic.html#511" class="Bound">cs</a>
  <a id="565" href="Prelude.Monad.html#576" class="Function">return</a> <a id="572" href="Utils.Reflection.Tactic.html#521" class="Bound">f</a>

<a id="extend*Context"></a><a id="575" href="Utils.Reflection.Tactic.html#575" class="Function">extend*Context</a> <a id="590" class="Symbol">:</a> <a id="592" href="Agda.Builtin.Reflection.html#4744" class="Function">Telescope</a> <a id="602" class="Symbol">→</a> <a id="604" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="607" href="Utils.Reflection.Tactic.html#260" class="Generalizable">A</a> <a id="609" class="Symbol">→</a> <a id="611" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="614" href="Utils.Reflection.Tactic.html#260" class="Generalizable">A</a>
<a id="616" href="Utils.Reflection.Tactic.html#575" class="Function">extend*Context</a> <a id="631" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>              <a id="647" href="Utils.Reflection.Tactic.html#647" class="Bound">m</a> <a id="649" class="Symbol">=</a> <a id="651" href="Utils.Reflection.Tactic.html#647" class="Bound">m</a>
<a id="653" href="Utils.Reflection.Tactic.html#575" class="Function">extend*Context</a> <a id="668" class="Symbol">((</a><a id="670" href="Utils.Reflection.Tactic.html#670" class="Bound">s</a> <a id="672" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="674" href="Utils.Reflection.Tactic.html#674" class="Bound">a</a><a id="675" class="Symbol">)</a> <a id="677" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="679" href="Utils.Reflection.Tactic.html#679" class="Bound">tel</a><a id="682" class="Symbol">)</a> <a id="684" href="Utils.Reflection.Tactic.html#684" class="Bound">m</a> <a id="686" class="Symbol">=</a> <a id="688" href="Agda.Builtin.Reflection.html#8945" class="Postulate">extendContext</a> <a id="702" href="Utils.Reflection.Tactic.html#670" class="Bound">s</a> <a id="704" href="Utils.Reflection.Tactic.html#674" class="Bound">a</a> <a id="706" class="Symbol">(</a><a id="707" href="Utils.Reflection.Tactic.html#575" class="Function">extend*Context</a> <a id="722" href="Utils.Reflection.Tactic.html#679" class="Bound">tel</a> <a id="726" href="Utils.Reflection.Tactic.html#684" class="Bound">m</a><a id="727" class="Symbol">)</a>

<a id="_onClause_"></a><a id="730" href="Utils.Reflection.Tactic.html#730" class="Function Operator">_onClause_</a> <a id="741" class="Symbol">:</a> <a id="743" class="Symbol">(</a><a id="744" href="Agda.Builtin.Reflection.html#4661" class="Datatype">Term</a> <a id="749" class="Symbol">→</a> <a id="751" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="754" href="Agda.Builtin.Reflection.html#4661" class="Datatype">Term</a><a id="758" class="Symbol">)</a> <a id="760" class="Symbol">→</a> <a id="762" href="Agda.Builtin.Reflection.html#4718" class="Datatype">Clause</a> <a id="769" class="Symbol">→</a> <a id="771" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="774" href="Agda.Builtin.Reflection.html#4718" class="Datatype">Clause</a>
<a id="781" href="Utils.Reflection.Tactic.html#781" class="Bound">f</a> <a id="783" href="Utils.Reflection.Tactic.html#730" class="Function Operator">onClause</a> <a id="792" class="Symbol">(</a><a id="793" href="Utils.Reflection.Tactic.html#793" class="Bound">tel</a> <a id="797" href="Utils.Reflection.Core.html#2874" class="InductiveConstructor Operator">⊢</a> <a id="799" href="Utils.Reflection.Tactic.html#799" class="Bound">ps</a> <a id="802" href="Utils.Reflection.Core.html#2874" class="InductiveConstructor Operator">`=</a> <a id="805" href="Utils.Reflection.Tactic.html#805" class="Bound">t</a><a id="806" class="Symbol">)</a> <a id="808" class="Symbol">=</a> <a id="810" class="Keyword">do</a>
  <a id="815" href="Utils.Reflection.Tactic.html#815" class="Bound">u</a> <a id="817" href="Prelude.Monad.html#396" class="Field Operator">←</a> <a id="819" href="Utils.Reflection.Tactic.html#575" class="Function">extend*Context</a> <a id="834" href="Utils.Reflection.Tactic.html#793" class="Bound">tel</a> <a id="838" class="Symbol">(</a><a id="839" href="Utils.Reflection.Tactic.html#781" class="Bound">f</a> <a id="841" href="Utils.Reflection.Tactic.html#805" class="Bound">t</a><a id="842" class="Symbol">)</a>
  <a id="846" href="Prelude.Monad.html#576" class="Function">return</a> <a id="853" href="Prelude.Function.html#911" class="Function Operator">$</a> <a id="855" href="Utils.Reflection.Tactic.html#793" class="Bound">tel</a> <a id="859" href="Utils.Reflection.Core.html#2874" class="InductiveConstructor Operator">⊢</a> <a id="861" href="Utils.Reflection.Tactic.html#799" class="Bound">ps</a> <a id="864" href="Utils.Reflection.Core.html#2874" class="InductiveConstructor Operator">`=</a> <a id="867" href="Utils.Reflection.Tactic.html#815" class="Bound">u</a>
<a id="869" href="Utils.Reflection.Tactic.html#869" class="CatchallClause Bound">f</a><a id="870" class="CatchallClause"> </a><a id="871" href="Utils.Reflection.Tactic.html#730" class="CatchallClause Function Operator">onClause</a><a id="879" class="CatchallClause"> </a><a id="880" href="Utils.Reflection.Tactic.html#880" class="CatchallClause Bound">cl</a> <a id="883" class="Symbol">=</a> <a id="885" href="Prelude.Monad.html#576" class="Function">return</a> <a id="892" href="Utils.Reflection.Tactic.html#880" class="Bound">cl</a>

<a id="_onClauses_"></a><a id="896" href="Utils.Reflection.Tactic.html#896" class="Function Operator">_onClauses_</a> <a id="908" class="Symbol">:</a> <a id="910" class="Symbol">(</a><a id="911" href="Agda.Builtin.Reflection.html#4661" class="Datatype">Term</a> <a id="916" class="Symbol">→</a> <a id="918" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="921" href="Agda.Builtin.Reflection.html#4661" class="Datatype">Term</a><a id="925" class="Symbol">)</a> <a id="927" class="Symbol">→</a> <a id="929" href="Utils.Reflection.Core.html#419" class="Function">Clauses</a> <a id="937" class="Symbol">→</a> <a id="939" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="942" href="Utils.Reflection.Core.html#419" class="Function">Clauses</a>
<a id="950" href="Utils.Reflection.Tactic.html#896" class="Function Operator">_onClauses_</a> <a id="962" href="Utils.Reflection.Tactic.html#962" class="Bound">f</a> <a id="964" class="Symbol">=</a> <a id="966" href="Prelude.Monad.html#791" class="Function">mapM</a> <a id="971" class="Symbol">(</a><a id="972" href="Utils.Reflection.Tactic.html#962" class="Bound">f</a> <a id="974" href="Utils.Reflection.Tactic.html#730" class="Function Operator">onClause_</a><a id="983" class="Symbol">)</a>

<a id="checkClauses"></a><a id="986" href="Utils.Reflection.Tactic.html#986" class="Function">checkClauses</a> <a id="999" class="Symbol">:</a> <a id="1001" href="Utils.Reflection.Core.html#419" class="Function">Clauses</a> <a id="1009" class="Symbol">→</a> <a id="1011" href="Agda.Builtin.Reflection.html#4732" class="Function">Type</a> <a id="1016" class="Symbol">→</a> <a id="1018" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="1021" href="Utils.Reflection.Core.html#419" class="Function">Clauses</a>
<a id="1029" href="Utils.Reflection.Tactic.html#986" class="Function">checkClauses</a> <a id="1042" href="Utils.Reflection.Tactic.html#1042" class="Bound">cls</a> <a id="1046" href="Utils.Reflection.Tactic.html#1046" class="Bound">`A</a> <a id="1049" class="Symbol">=</a> <a id="1051" class="Keyword">do</a>
  <a id="1056" href="Utils.Reflection.Core.html#2481" class="InductiveConstructor">pat-lam₀</a> <a id="1065" href="Utils.Reflection.Tactic.html#1065" class="Bound">cls</a> <a id="1069" href="Prelude.Monad.html#396" class="Field Operator">←</a> <a id="1071" href="Agda.Builtin.Reflection.html#8582" class="Postulate">checkType</a> <a id="1081" class="Symbol">(</a><a id="1082" href="Utils.Reflection.Core.html#2481" class="InductiveConstructor">pat-lam₀</a> <a id="1091" href="Utils.Reflection.Tactic.html#1042" class="Bound">cls</a><a id="1094" class="Symbol">)</a> <a id="1096" href="Utils.Reflection.Tactic.html#1046" class="Bound">`A</a>
    <a id="1103" class="Keyword">where</a> <a id="1109" class="CatchallClause Symbol">_</a> <a id="1111" class="Symbol">→</a> <a id="1113" href="Utils.Error.html#993" class="Function">Err.IMPOSSIBLE</a>
  <a id="1130" href="Prelude.Monad.html#576" class="Function">return</a> <a id="1137" href="Utils.Reflection.Tactic.html#1065" class="Bound">cls</a>
  
<a id="quoteTC!"></a><a id="1144" href="Utils.Reflection.Tactic.html#1144" class="Function">quoteTC!</a> <a id="1153" class="Symbol">:</a> <a id="1155" href="Utils.Reflection.Tactic.html#260" class="Generalizable">A</a> <a id="1157" class="Symbol">→</a> <a id="1159" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="1162" href="Agda.Builtin.Reflection.html#4661" class="Datatype">Term</a>
<a id="1167" href="Utils.Reflection.Tactic.html#1144" class="Function">quoteTC!</a> <a id="1176" href="Utils.Reflection.Tactic.html#1176" class="Bound">a</a> <a id="1178" class="Symbol">=</a> <a id="1180" href="Agda.Builtin.Reflection.html#9710" class="Postulate">withNormalisation</a> <a id="1198" href="Agda.Builtin.Bool.html#172" class="InductiveConstructor">true</a> <a id="1203" class="Symbol">(</a><a id="1204" href="Agda.Builtin.Reflection.html#8757" class="Postulate">quoteTC</a> <a id="1212" href="Utils.Reflection.Tactic.html#1176" class="Bound">a</a><a id="1213" class="Symbol">)</a>

<a id="quoteωTC!"></a><a id="1216" href="Utils.Reflection.Tactic.html#1216" class="Function">quoteωTC!</a> <a id="1226" class="Symbol">:</a> <a id="1228" class="Symbol">{</a><a id="1229" href="Utils.Reflection.Tactic.html#1229" class="Bound">A</a> <a id="1231" class="Symbol">:</a> <a id="1233" href="Agda.Primitive.html#366" class="Primitive">Setω</a><a id="1237" class="Symbol">}</a> <a id="1239" class="Symbol">→</a> <a id="1241" href="Utils.Reflection.Tactic.html#1229" class="Bound">A</a> <a id="1243" class="Symbol">→</a> <a id="1245" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="1248" href="Agda.Builtin.Reflection.html#4661" class="Datatype">Term</a>
<a id="1253" href="Utils.Reflection.Tactic.html#1216" class="Function">quoteωTC!</a> <a id="1263" href="Utils.Reflection.Tactic.html#1263" class="Bound">a</a> <a id="1265" class="Symbol">=</a> <a id="1267" href="Agda.Builtin.Reflection.html#9710" class="Postulate">withNormalisation</a> <a id="1285" href="Agda.Builtin.Bool.html#172" class="InductiveConstructor">true</a> <a id="1290" class="Symbol">(</a><a id="1291" href="Agda.Builtin.Reflection.html#8863" class="Postulate">quoteωTC</a> <a id="1300" href="Utils.Reflection.Tactic.html#1263" class="Bound">a</a><a id="1301" class="Symbol">)</a>

<a id="newMeta"></a><a id="1304" href="Utils.Reflection.Tactic.html#1304" class="Function">newMeta</a> <a id="1312" class="Symbol">:</a> <a id="1314" href="Agda.Builtin.Reflection.html#4732" class="Function">Type</a> <a id="1319" class="Symbol">→</a> <a id="1321" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="1324" href="Agda.Builtin.Reflection.html#4661" class="Datatype">Term</a>
<a id="1329" href="Utils.Reflection.Tactic.html#1304" class="Function">newMeta</a> <a id="1337" class="Symbol">=</a> <a id="1339" href="Agda.Builtin.Reflection.html#8582" class="Postulate">checkType</a> <a id="1349" href="Agda.Builtin.Reflection.html#5262" class="InductiveConstructor">unknown</a>

<a id="newMeta!"></a><a id="1358" href="Utils.Reflection.Tactic.html#1358" class="Function">newMeta!</a> <a id="1367" class="Symbol">:</a> <a id="1369" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="1372" href="Agda.Builtin.Reflection.html#4661" class="Datatype">Term</a>
<a id="1377" href="Utils.Reflection.Tactic.html#1358" class="Function">newMeta!</a> <a id="1386" class="Symbol">=</a> <a id="1388" href="Utils.Reflection.Tactic.html#1304" class="Function">newMeta</a> <a id="1396" href="Agda.Builtin.Reflection.html#5262" class="InductiveConstructor">unknown</a>

<a id="typeErrorS"></a><a id="1405" href="Utils.Reflection.Tactic.html#1405" class="Function">typeErrorS</a> <a id="1416" class="Symbol">:</a> <a id="1418" href="Agda.Builtin.String.html#309" class="Postulate">String</a> <a id="1425" class="Symbol">→</a> <a id="1427" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="1430" href="Utils.Reflection.Tactic.html#260" class="Generalizable">A</a>
<a id="1432" href="Utils.Reflection.Tactic.html#1405" class="Function">typeErrorS</a> <a id="1443" href="Utils.Reflection.Tactic.html#1443" class="Bound">s</a> <a id="1445" class="Symbol">=</a> <a id="1447" href="Agda.Builtin.Reflection.html#8483" class="Postulate">typeError</a> <a id="1457" class="Symbol">(</a><a id="1458" href="Agda.Builtin.Reflection.html#7891" class="InductiveConstructor">strErr</a> <a id="1465" href="Utils.Reflection.Tactic.html#1443" class="Bound">s</a> <a id="1467" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="1469" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a><a id="1471" class="Symbol">)</a>

<a id="blockOnMeta!"></a><a id="1474" href="Utils.Reflection.Tactic.html#1474" class="Function">blockOnMeta!</a> <a id="1487" class="Symbol">:</a> <a id="1489" href="Agda.Builtin.Reflection.html#2431" class="Postulate">Meta</a> <a id="1494" class="Symbol">→</a> <a id="1496" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="1499" href="Utils.Reflection.Tactic.html#260" class="Generalizable">A</a>
<a id="1501" href="Utils.Reflection.Tactic.html#1474" class="Function">blockOnMeta!</a> <a id="1514" href="Utils.Reflection.Tactic.html#1514" class="Bound">x</a> <a id="1516" class="Symbol">=</a> <a id="1518" href="Agda.Builtin.Reflection.html#9495" class="Postulate">commitTC</a> <a id="1527" href="Prelude.Monad.html#396" class="Field Operator">&gt;&gt;=</a> <a id="1531" class="Symbol">λ</a> <a id="1533" href="Utils.Reflection.Tactic.html#1533" class="Bound">_</a> <a id="1535" class="Symbol">→</a> <a id="1537" href="Agda.Builtin.Reflection.html#9442" class="Postulate">blockOnMeta</a> <a id="1549" href="Utils.Reflection.Tactic.html#1514" class="Bound">x</a>

<a id="inferNormalisedType"></a><a id="1552" href="Utils.Reflection.Tactic.html#1552" class="Function">inferNormalisedType</a> <a id="1572" class="Symbol">:</a> <a id="1574" href="Agda.Builtin.Reflection.html#4661" class="Datatype">Term</a> <a id="1579" class="Symbol">→</a> <a id="1581" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="1584" href="Agda.Builtin.Reflection.html#4732" class="Function">Type</a>
<a id="1589" href="Utils.Reflection.Tactic.html#1552" class="Function">inferNormalisedType</a> <a id="1609" href="Utils.Reflection.Tactic.html#1609" class="Bound">t</a> <a id="1611" class="Symbol">=</a> <a id="1613" href="Agda.Builtin.Reflection.html#9710" class="Postulate">withNormalisation</a> <a id="1631" href="Agda.Builtin.Bool.html#172" class="InductiveConstructor">true</a> <a id="1636" class="Symbol">(</a><a id="1637" href="Agda.Builtin.Reflection.html#8546" class="Postulate">inferType</a> <a id="1647" href="Utils.Reflection.Tactic.html#1609" class="Bound">t</a><a id="1648" class="Symbol">)</a>

<a id="formatErrorPart"></a><a id="1651" href="Utils.Reflection.Tactic.html#1651" class="Function">formatErrorPart</a> <a id="1667" class="Symbol">:</a> <a id="1669" href="Agda.Builtin.Reflection.html#7867" class="Datatype">ErrorPart</a> <a id="1679" class="Symbol">→</a> <a id="1681" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="1684" href="Agda.Builtin.String.html#309" class="Postulate">String</a>
<a id="1691" href="Utils.Reflection.Tactic.html#1651" class="Function">formatErrorPart</a> <a id="1707" class="Symbol">=</a> <a id="1709" href="Agda.Builtin.Reflection.html#9970" class="Postulate">formatErrorParts</a> <a id="1726" href="Prelude.Function.html#737" class="Function Operator">∘</a> <a id="1728" href="Prelude.List.html#591" class="InductiveConstructor Operator">[_]</a>

<a id="defineUnify"></a><a id="1733" href="Utils.Reflection.Tactic.html#1733" class="Function">defineUnify</a> <a id="1745" class="Symbol">:</a> <a id="1747" href="Agda.Builtin.Reflection.html#3670" class="Datatype">Arg</a> <a id="1751" href="Agda.Builtin.String.html#309" class="Postulate">String</a> <a id="1758" class="Symbol">→</a> <a id="1760" href="Agda.Builtin.Reflection.html#4732" class="Function">Type</a> <a id="1765" class="Symbol">→</a> <a id="1767" href="Agda.Builtin.Reflection.html#4661" class="Datatype">Term</a> <a id="1772" class="Symbol">→</a> <a id="1774" href="Agda.Builtin.Reflection.html#4661" class="Datatype">Term</a> <a id="1779" class="Symbol">→</a> <a id="1781" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="1784" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a>
<a id="1789" href="Utils.Reflection.Tactic.html#1733" class="Function">defineUnify</a> <a id="1801" class="Symbol">(</a><a id="1802" href="Agda.Builtin.Reflection.html#3706" class="InductiveConstructor">arg</a> <a id="1806" href="Utils.Reflection.Tactic.html#1806" class="Bound">i</a> <a id="1808" href="Utils.Reflection.Tactic.html#1808" class="Bound">ns</a><a id="1810" class="Symbol">)</a> <a id="1812" href="Utils.Reflection.Tactic.html#1812" class="Bound">ty</a> <a id="1815" href="Utils.Reflection.Tactic.html#1815" class="Bound">tm</a> <a id="1818" href="Utils.Reflection.Tactic.html#1818" class="Bound">hole</a> <a id="1823" class="Symbol">=</a> <a id="1825" class="Keyword">do</a>
  <a id="1830" href="Utils.Reflection.Tactic.html#1830" class="Bound">n</a> <a id="1832" href="Prelude.Monad.html#396" class="Field Operator">←</a> <a id="1834" href="Agda.Builtin.Reflection.html#9083" class="Postulate">freshName</a> <a id="1844" href="Utils.Reflection.Tactic.html#1808" class="Bound">ns</a>
  <a id="1849" href="Agda.Builtin.Reflection.html#9121" class="Postulate">declareDef</a> <a id="1860" class="Symbol">(</a><a id="1861" href="Agda.Builtin.Reflection.html#3706" class="InductiveConstructor">arg</a> <a id="1865" href="Utils.Reflection.Tactic.html#1806" class="Bound">i</a> <a id="1867" href="Utils.Reflection.Tactic.html#1830" class="Bound">n</a><a id="1868" class="Symbol">)</a> <a id="1870" href="Utils.Reflection.Tactic.html#1812" class="Bound">ty</a>
  <a id="1875" href="Agda.Builtin.Reflection.html#9317" class="Postulate">defineFun</a> <a id="1885" href="Utils.Reflection.Tactic.html#1830" class="Bound">n</a> <a id="1887" href="Prelude.List.html#591" class="InductiveConstructor Operator">[</a> <a id="1889" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1892" href="Utils.Reflection.Core.html#2874" class="InductiveConstructor Operator">⊢</a> <a id="1894" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="1897" href="Utils.Reflection.Core.html#2874" class="InductiveConstructor Operator">`=</a> <a id="1900" href="Utils.Reflection.Tactic.html#1815" class="Bound">tm</a> <a id="1903" href="Prelude.List.html#591" class="InductiveConstructor Operator">]</a>

  <a id="1908" href="Agda.Builtin.Reflection.html#8443" class="Postulate">unify</a> <a id="1914" href="Utils.Reflection.Tactic.html#1818" class="Bound">hole</a> <a id="1919" class="Symbol">(</a><a id="1920" href="Utils.Reflection.Core.html#1940" class="InductiveConstructor">def₀</a> <a id="1925" href="Utils.Reflection.Tactic.html#1830" class="Bound">n</a><a id="1926" class="Symbol">)</a>

  <a id="1931" href="Prelude.Monad.html#576" class="Function">return</a> <a id="1938" href="Utils.Reflection.Tactic.html#1830" class="Bound">n</a>
  
<a id="evalTC"></a><a id="1943" href="Utils.Reflection.Tactic.html#1943" class="Function">evalTC</a> <a id="1950" class="Symbol">:</a> <a id="1952" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="1955" href="Utils.Reflection.Tactic.html#260" class="Generalizable">A</a> <a id="1957" class="Symbol">→</a> <a id="1959" href="Utils.Reflection.Core.html#546" class="Function">Tactic</a>
<a id="1966" href="Utils.Reflection.Tactic.html#1943" class="Function">evalTC</a> <a id="1973" class="Symbol">{</a><a id="1974" class="Argument">A</a> <a id="1976" class="Symbol">=</a> <a id="1978" href="Utils.Reflection.Tactic.html#1978" class="Bound">A</a><a id="1979" class="Symbol">}</a> <a id="1981" href="Utils.Reflection.Tactic.html#1981" class="Bound">c</a> <a id="1983" href="Utils.Reflection.Tactic.html#1983" class="Bound">hole</a> <a id="1988" class="Symbol">=</a> <a id="1990" class="Keyword">do</a>
  <a id="1995" href="Utils.Reflection.Tactic.html#1995" class="Bound">v</a>  <a id="1998" href="Prelude.Monad.html#396" class="Field Operator">←</a> <a id="2000" href="Utils.Reflection.Tactic.html#1981" class="Bound">c</a>
  <a id="2004" href="Utils.Reflection.Tactic.html#2004" class="Bound">`v</a> <a id="2007" href="Prelude.Monad.html#396" class="Field Operator">←</a> <a id="2009" href="Agda.Builtin.Reflection.html#8757" class="Postulate">quoteTC</a> <a id="2017" href="Utils.Reflection.Tactic.html#1995" class="Bound">v</a>
  <a id="2021" href="Utils.Reflection.Tactic.html#2021" class="Bound">`A</a> <a id="2024" href="Prelude.Monad.html#396" class="Field Operator">←</a> <a id="2026" href="Agda.Builtin.Reflection.html#8757" class="Postulate">quoteTC</a> <a id="2034" href="Utils.Reflection.Tactic.html#1978" class="Bound">A</a>
  <a id="2038" href="Utils.Reflection.Tactic.html#2038" class="Bound">checkedHole</a> <a id="2050" href="Prelude.Monad.html#396" class="Field Operator">←</a> <a id="2052" href="Agda.Builtin.Reflection.html#8582" class="Postulate">checkType</a> <a id="2062" href="Utils.Reflection.Tactic.html#1983" class="Bound">hole</a> <a id="2067" href="Utils.Reflection.Tactic.html#2021" class="Bound">`A</a>
  <a id="2072" href="Agda.Builtin.Reflection.html#8443" class="Postulate">unify</a> <a id="2078" href="Utils.Reflection.Tactic.html#2038" class="Bound">checkedHole</a> <a id="2090" href="Utils.Reflection.Tactic.html#2004" class="Bound">`v</a>

<a id="2094" class="Keyword">macro</a>
  <a id="evalT"></a><a id="2102" href="Utils.Reflection.Tactic.html#2102" class="Function">evalT</a> <a id="2108" class="Symbol">:</a> <a id="2110" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="2113" href="Utils.Reflection.Tactic.html#260" class="Generalizable">A</a> <a id="2115" class="Symbol">→</a> <a id="2117" href="Utils.Reflection.Core.html#546" class="Function">Tactic</a>
  <a id="2126" href="Utils.Reflection.Tactic.html#2102" class="Function">evalT</a> <a id="2132" class="Symbol">=</a> <a id="2134" href="Utils.Reflection.Tactic.html#1943" class="Function">evalTC</a>

<a id="2142" class="Comment">-- Typed version of extendContext</a>
<a id="exCxtT"></a><a id="2176" href="Utils.Reflection.Tactic.html#2176" class="Function">exCxtT</a> <a id="2183" class="Symbol">:</a> <a id="2185" href="Agda.Builtin.String.html#309" class="Postulate">String</a> <a id="2192" class="Symbol">→</a> <a id="2194" href="Agda.Builtin.Reflection.html#3589" class="Datatype">ArgInfo</a> <a id="2202" class="Symbol">→</a> <a id="2204" class="Symbol">(</a><a id="2205" href="Utils.Reflection.Tactic.html#2205" class="Bound">B</a> <a id="2207" class="Symbol">:</a> <a id="2209" href="Agda.Primitive.html#311" class="Primitive">Set</a> <a id="2213" href="Prelude.Level.html#316" class="Generalizable">ℓ</a><a id="2214" class="Symbol">)</a>
  <a id="2218" class="Symbol">→</a> <a id="2220" class="Symbol">(</a><a id="2221" href="Agda.Builtin.Reflection.html#4732" class="Function">Type</a> <a id="2226" class="Symbol">→</a> <a id="2228" href="Utils.Reflection.Tactic.html#2205" class="Bound">B</a> <a id="2230" class="Symbol">→</a> <a id="2232" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="2235" href="Utils.Reflection.Tactic.html#260" class="Generalizable">A</a><a id="2236" class="Symbol">)</a> <a id="2238" class="Symbol">→</a> <a id="2240" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="2243" href="Utils.Reflection.Tactic.html#260" class="Generalizable">A</a>
<a id="2245" href="Utils.Reflection.Tactic.html#2176" class="Function">exCxtT</a> <a id="2252" href="Utils.Reflection.Tactic.html#2252" class="Bound">s</a> <a id="2254" href="Utils.Reflection.Tactic.html#2254" class="Bound">i</a> <a id="2256" href="Utils.Reflection.Tactic.html#2256" class="Bound">B</a> <a id="2258" href="Utils.Reflection.Tactic.html#2258" class="Bound">f</a> <a id="2260" class="Symbol">=</a> <a id="2262" class="Keyword">do</a>
  <a id="2267" href="Utils.Reflection.Tactic.html#2267" class="Bound">`B</a> <a id="2270" href="Prelude.Monad.html#396" class="Field Operator">←</a> <a id="2272" href="Utils.Reflection.Tactic.html#1144" class="Function">quoteTC!</a> <a id="2281" href="Utils.Reflection.Tactic.html#2256" class="Bound">B</a>
  <a id="2285" href="Agda.Builtin.Reflection.html#8945" class="Postulate">extendContext</a> <a id="2299" href="Utils.Reflection.Tactic.html#2252" class="Bound">s</a> <a id="2301" class="Symbol">(</a><a id="2302" href="Agda.Builtin.Reflection.html#3706" class="InductiveConstructor">arg</a> <a id="2306" href="Utils.Reflection.Tactic.html#2254" class="Bound">i</a> <a id="2308" href="Utils.Reflection.Tactic.html#2267" class="Bound">`B</a><a id="2310" class="Symbol">)</a> <a id="2312" class="Keyword">do</a>
    <a id="2319" href="Utils.Reflection.Tactic.html#2319" class="Bound">x</a> <a id="2321" href="Prelude.Monad.html#396" class="Field Operator">←</a> <a id="2323" href="Agda.Builtin.Reflection.html#8810" class="Postulate">unquoteTC</a> <a id="2333" class="Symbol">{</a><a id="2334" class="Argument">A</a> <a id="2336" class="Symbol">=</a> <a id="2338" href="Utils.Reflection.Tactic.html#2256" class="Bound">B</a><a id="2339" class="Symbol">}</a> <a id="2341" class="Symbol">(</a><a id="2342" href="Utils.Reflection.Core.html#1319" class="InductiveConstructor">var₀</a> <a id="2347" class="Number">0</a><a id="2348" class="Symbol">)</a>
    <a id="2354" href="Utils.Reflection.Tactic.html#2258" class="Bound">f</a> <a id="2356" href="Utils.Reflection.Tactic.html#2267" class="Bound">`B</a> <a id="2359" href="Utils.Reflection.Tactic.html#2319" class="Bound">x</a>

<a id="getConTelescope"></a><a id="2362" href="Utils.Reflection.Tactic.html#2362" class="Function">getConTelescope</a> <a id="2378" class="Symbol">:</a> <a id="2380" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="2385" class="Symbol">→</a> <a id="2387" class="Symbol">(</a><a id="2388" href="Utils.Reflection.Tactic.html#2388" class="Bound">pars</a> <a id="2393" class="Symbol">:</a> <a id="2395" href="Agda.Builtin.Nat.html#177" class="Datatype">ℕ</a><a id="2396" class="Symbol">)</a> <a id="2398" class="Symbol">→</a> <a id="2400" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="2403" href="Agda.Builtin.Reflection.html#4744" class="Function">Telescope</a>
<a id="2413" href="Utils.Reflection.Tactic.html#2362" class="Function">getConTelescope</a> <a id="2429" href="Utils.Reflection.Tactic.html#2429" class="Bound">c</a> <a id="2431" href="Utils.Reflection.Tactic.html#2431" class="Bound">pars</a> <a id="2436" class="Symbol">=</a> <a id="2438" href="Prelude.List.html#1903" class="Function">drop</a> <a id="2443" href="Utils.Reflection.Tactic.html#2431" class="Bound">pars</a> <a id="2448" href="Prelude.Function.html#737" class="Function Operator">∘</a> <a id="2450" href="Agda.Builtin.Sigma.html#225" class="Field">fst</a> <a id="2454" href="Prelude.Function.html#737" class="Function Operator">∘</a> <a id="2456" class="Symbol">(</a><a id="2457" href="Prelude.Coercion.html#418" class="Function Operator">coerce&#39;_to</a> <a id="2468" class="Symbol">(</a><a id="2469" href="Agda.Builtin.Reflection.html#4744" class="Function">Telescope</a> <a id="2479" href="Prelude.Sigma.html#363" class="Function Operator">×</a> <a id="2481" href="Agda.Builtin.Reflection.html#4732" class="Function">Type</a><a id="2485" class="Symbol">))</a> <a id="2488" href="Prelude.Functor.html#338" class="Function Operator">&lt;$&gt;</a> <a id="2492" href="Agda.Builtin.Reflection.html#9364" class="Postulate">getType</a> <a id="2500" href="Utils.Reflection.Tactic.html#2429" class="Bound">c</a>

<a id="getAbsName"></a><a id="2503" href="Utils.Reflection.Tactic.html#2503" class="Function">getAbsName</a> <a id="2514" class="Symbol">:</a> <a id="2516" class="Symbol">{</a><a id="2517" href="Utils.Reflection.Tactic.html#2517" class="Bound">A</a> <a id="2519" class="Symbol">:</a> <a id="2521" href="Agda.Primitive.html#311" class="Primitive">Set</a> <a id="2525" href="Prelude.Level.html#316" class="Generalizable">ℓ</a><a id="2526" class="Symbol">}</a> <a id="2528" class="Symbol">{</a><a id="2529" href="Utils.Reflection.Tactic.html#2529" class="Bound">B</a> <a id="2531" class="Symbol">:</a> <a id="2533" href="Utils.Reflection.Tactic.html#2517" class="Bound">A</a> <a id="2535" class="Symbol">→</a> <a id="2537" href="Agda.Primitive.html#311" class="Primitive">Set</a> <a id="2541" href="Prelude.Level.html#330" class="Generalizable">ℓ′</a><a id="2543" class="Symbol">}</a> <a id="2545" class="Symbol">→</a> <a id="2547" class="Symbol">((</a><a id="2549" href="Utils.Reflection.Tactic.html#2549" class="Bound">x</a> <a id="2551" class="Symbol">:</a> <a id="2553" href="Utils.Reflection.Tactic.html#2517" class="Bound">A</a><a id="2554" class="Symbol">)</a> <a id="2556" class="Symbol">→</a> <a id="2558" href="Utils.Reflection.Tactic.html#2529" class="Bound">B</a> <a id="2560" href="Utils.Reflection.Tactic.html#2549" class="Bound">x</a><a id="2561" class="Symbol">)</a> <a id="2563" class="Symbol">→</a> <a id="2565" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="2568" href="Agda.Builtin.String.html#309" class="Postulate">String</a>
<a id="2575" href="Utils.Reflection.Tactic.html#2503" class="Function">getAbsName</a> <a id="2586" href="Utils.Reflection.Tactic.html#2586" class="Bound">f</a> <a id="2588" class="Symbol">=</a> <a id="2590" href="Prelude.Monad.html#648" class="Function Operator">caseM</a> <a id="2596" href="Utils.Reflection.Tactic.html#1144" class="Function">quoteTC!</a> <a id="2605" href="Utils.Reflection.Tactic.html#2586" class="Bound">f</a> <a id="2607" href="Prelude.Monad.html#648" class="Function Operator">of</a> <a id="2610" class="Symbol">λ</a> <a id="2612" class="Symbol">{</a> <a id="2614" class="Symbol">(</a><a id="2615" href="Agda.Builtin.Reflection.html#4976" class="InductiveConstructor">lam</a> <a id="2619" href="Agda.Builtin.Reflection.html#2736" class="InductiveConstructor">visible</a> <a id="2627" class="Symbol">(</a><a id="2628" href="Agda.Builtin.Reflection.html#3953" class="InductiveConstructor">abs</a> <a id="2632" href="Utils.Reflection.Tactic.html#2632" class="Bound">s</a> <a id="2634" class="Symbol">_))</a> <a id="2638" class="Symbol">→</a> <a id="2640" href="Prelude.Monad.html#576" class="Function">return</a> <a id="2647" href="Utils.Reflection.Tactic.html#2632" class="Bound">s</a> <a id="2649" class="Symbol">;</a> <a id="2651" href="Utils.Reflection.Tactic.html#2651" class="CatchallClause Bound">t</a> <a id="2653" class="Symbol">→</a> <a id="2655" href="Utils.Error.html#493" class="Function">Err.notλ</a> <a id="2664" href="Utils.Reflection.Tactic.html#2651" class="Bound">t</a> <a id="2666" class="Symbol">}</a>

<a id="getAbsNameω"></a><a id="2669" href="Utils.Reflection.Tactic.html#2669" class="Function">getAbsNameω</a> <a id="2681" class="Symbol">:</a> <a id="2683" class="Symbol">{</a><a id="2684" href="Utils.Reflection.Tactic.html#2684" class="Bound">A</a> <a id="2686" class="Symbol">:</a> <a id="2688" href="Agda.Primitive.html#311" class="Primitive">Set</a> <a id="2692" href="Prelude.Level.html#316" class="Generalizable">ℓ</a><a id="2693" class="Symbol">}</a> <a id="2695" class="Symbol">{</a><a id="2696" href="Utils.Reflection.Tactic.html#2696" class="Bound">B</a> <a id="2698" class="Symbol">:</a> <a id="2700" href="Utils.Reflection.Tactic.html#2684" class="Bound">A</a> <a id="2702" class="Symbol">→</a> <a id="2704" href="Agda.Primitive.html#366" class="Primitive">Setω</a><a id="2708" class="Symbol">}</a> <a id="2710" class="Symbol">→</a> <a id="2712" class="Symbol">((</a><a id="2714" href="Utils.Reflection.Tactic.html#2714" class="Bound">x</a> <a id="2716" class="Symbol">:</a> <a id="2718" href="Utils.Reflection.Tactic.html#2684" class="Bound">A</a><a id="2719" class="Symbol">)</a> <a id="2721" class="Symbol">→</a> <a id="2723" href="Utils.Reflection.Tactic.html#2696" class="Bound">B</a> <a id="2725" href="Utils.Reflection.Tactic.html#2714" class="Bound">x</a><a id="2726" class="Symbol">)</a> <a id="2728" class="Symbol">→</a> <a id="2730" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="2733" href="Agda.Builtin.String.html#309" class="Postulate">String</a>
<a id="2740" href="Utils.Reflection.Tactic.html#2669" class="Function">getAbsNameω</a> <a id="2752" href="Utils.Reflection.Tactic.html#2752" class="Bound">f</a> <a id="2754" class="Symbol">=</a> <a id="2756" href="Prelude.Monad.html#648" class="Function Operator">caseM</a> <a id="2762" href="Utils.Reflection.Tactic.html#1216" class="Function">quoteωTC!</a> <a id="2772" href="Utils.Reflection.Tactic.html#2752" class="Bound">f</a> <a id="2774" href="Prelude.Monad.html#648" class="Function Operator">of</a> <a id="2777" class="Symbol">λ</a> <a id="2779" class="Symbol">{</a> <a id="2781" class="Symbol">(</a><a id="2782" href="Agda.Builtin.Reflection.html#4976" class="InductiveConstructor">lam</a> <a id="2786" href="Agda.Builtin.Reflection.html#2736" class="InductiveConstructor">visible</a> <a id="2794" class="Symbol">(</a><a id="2795" href="Agda.Builtin.Reflection.html#3953" class="InductiveConstructor">abs</a> <a id="2799" href="Utils.Reflection.Tactic.html#2799" class="Bound">s</a> <a id="2801" class="Symbol">_))</a> <a id="2805" class="Symbol">→</a> <a id="2807" href="Prelude.Monad.html#576" class="Function">return</a> <a id="2814" href="Utils.Reflection.Tactic.html#2799" class="Bound">s</a> <a id="2816" class="Symbol">;</a> <a id="2818" href="Utils.Reflection.Tactic.html#2818" class="CatchallClause Bound">t</a> <a id="2820" class="Symbol">→</a> <a id="2822" href="Utils.Error.html#493" class="Function">Err.notλ</a> <a id="2831" href="Utils.Reflection.Tactic.html#2818" class="Bound">t</a> <a id="2833" class="Symbol">}</a>

<a id="getFunction"></a><a id="2836" href="Utils.Reflection.Tactic.html#2836" class="Function">getFunction</a> <a id="2848" class="Symbol">:</a> <a id="2850" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="2855" class="Symbol">→</a> <a id="2857" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="2860" class="Symbol">(</a><a id="2861" href="Agda.Builtin.Reflection.html#4732" class="Function">Type</a> <a id="2866" href="Prelude.Sigma.html#363" class="Function Operator">×</a> <a id="2868" href="Utils.Reflection.Core.html#419" class="Function">Clauses</a><a id="2875" class="Symbol">)</a>
<a id="2877" href="Utils.Reflection.Tactic.html#2836" class="Function">getFunction</a> <a id="2889" href="Utils.Reflection.Tactic.html#2889" class="Bound">d</a> <a id="2891" class="Symbol">=</a> <a id="2893" class="Keyword">do</a>
  <a id="2898" href="Agda.Builtin.Reflection.html#7178" class="InductiveConstructor">function</a> <a id="2907" href="Utils.Reflection.Tactic.html#2907" class="Bound">cs</a> <a id="2910" href="Prelude.Monad.html#396" class="Field Operator">←</a> <a id="2912" href="Agda.Builtin.Reflection.html#9400" class="Postulate">getDefinition</a> <a id="2926" href="Utils.Reflection.Tactic.html#2889" class="Bound">d</a>
    <a id="2932" class="Keyword">where</a> <a id="2938" href="Utils.Reflection.Tactic.html#2938" class="CatchallClause Bound">t</a> <a id="2940" class="Symbol">→</a> <a id="2942" href="Utils.Error.html#811" class="Function">Err.notFun</a> <a id="2953" href="Utils.Reflection.Tactic.html#2889" class="Bound">d</a>
  <a id="2957" href="Utils.Reflection.Tactic.html#2957" class="Bound">t</a> <a id="2959" href="Prelude.Monad.html#396" class="Field Operator">←</a> <a id="2961" href="Agda.Builtin.Reflection.html#9364" class="Postulate">getType</a> <a id="2969" href="Utils.Reflection.Tactic.html#2889" class="Bound">d</a>
  <a id="2973" href="Prelude.Monad.html#576" class="Function">return</a> <a id="2980" href="Prelude.Function.html#911" class="Function Operator">$</a> <a id="2982" href="Utils.Reflection.Tactic.html#2957" class="Bound">t</a> <a id="2984" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2986" href="Utils.Reflection.Tactic.html#2907" class="Bound">cs</a>

<a id="getDataDefinition"></a><a id="2990" href="Utils.Reflection.Tactic.html#2990" class="Function">getDataDefinition</a> <a id="3008" class="Symbol">:</a> <a id="3010" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="3015" class="Symbol">→</a> <a id="3017" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="3020" class="Symbol">(</a><a id="3021" href="Agda.Builtin.Nat.html#177" class="Datatype">ℕ</a> <a id="3023" href="Prelude.Sigma.html#363" class="Function Operator">×</a> <a id="3025" href="Utils.Reflection.Core.html#350" class="Function">Names</a><a id="3030" class="Symbol">)</a>
<a id="3032" href="Utils.Reflection.Tactic.html#2990" class="Function">getDataDefinition</a> <a id="3050" href="Utils.Reflection.Tactic.html#3050" class="Bound">d</a> <a id="3052" class="Symbol">=</a> <a id="3054" class="Keyword">do</a>
  <a id="3059" href="Agda.Builtin.Reflection.html#7226" class="InductiveConstructor">data-type</a> <a id="3069" href="Utils.Reflection.Tactic.html#3069" class="Bound">pars</a> <a id="3074" href="Utils.Reflection.Tactic.html#3074" class="Bound">cs</a> <a id="3077" href="Prelude.Monad.html#396" class="Field Operator">←</a> <a id="3079" href="Agda.Builtin.Reflection.html#9400" class="Postulate">getDefinition</a> <a id="3093" href="Utils.Reflection.Tactic.html#3050" class="Bound">d</a>
    <a id="3099" class="Keyword">where</a> <a id="3105" class="CatchallClause Symbol">_</a> <a id="3107" class="Symbol">→</a> <a id="3109" href="Utils.Error.html#901" class="Function">Err.notData</a> <a id="3121" class="Symbol">(</a><a id="3122" href="Utils.Reflection.Core.html#1940" class="InductiveConstructor">def₀</a> <a id="3127" href="Utils.Reflection.Tactic.html#3050" class="Bound">d</a><a id="3128" class="Symbol">)</a>
  <a id="3132" href="Prelude.Monad.html#576" class="Function">return</a> <a id="3139" href="Prelude.Function.html#911" class="Function Operator">$</a> <a id="3141" href="Utils.Reflection.Tactic.html#3069" class="Bound">pars</a> <a id="3146" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="3148" href="Utils.Reflection.Tactic.html#3074" class="Bound">cs</a>

<a id="getTelescope"></a><a id="3152" href="Utils.Reflection.Tactic.html#3152" class="Function">getTelescope</a> <a id="3165" class="Symbol">:</a> <a id="3167" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="3172" class="Symbol">→</a> <a id="3174" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="3177" class="Symbol">(</a><a id="3178" href="Agda.Builtin.Reflection.html#4744" class="Function">Telescope</a> <a id="3188" href="Prelude.Sigma.html#363" class="Function Operator">×</a> <a id="3190" href="Agda.Builtin.Reflection.html#4732" class="Function">Type</a><a id="3194" class="Symbol">)</a>
<a id="3196" href="Utils.Reflection.Tactic.html#3152" class="Function">getTelescope</a> <a id="3209" href="Utils.Reflection.Tactic.html#3209" class="Bound">s</a> <a id="3211" class="Symbol">=</a> <a id="3213" class="Symbol">⦇</a> <a id="3215" href="Prelude.Coercion.html#173" class="Field Operator">⇑</a> <a id="3217" class="Symbol">(</a><a id="3218" href="Agda.Builtin.Reflection.html#9364" class="Postulate">getType</a> <a id="3226" href="Utils.Reflection.Tactic.html#3209" class="Bound">s</a><a id="3227" class="Symbol">)</a> <a id="3229" class="Symbol">⦈</a>

<a id="3232" class="Keyword">macro</a>
  <a id="getTelescopeT"></a><a id="3240" href="Utils.Reflection.Tactic.html#3240" class="Function">getTelescopeT</a> <a id="3254" class="Symbol">:</a> <a id="3256" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="3261" class="Symbol">→</a> <a id="3263" href="Utils.Reflection.Core.html#546" class="Function">Tactic</a>
  <a id="3272" href="Utils.Reflection.Tactic.html#3240" class="Function">getTelescopeT</a> <a id="3286" href="Utils.Reflection.Tactic.html#3286" class="Bound">s</a> <a id="3288" class="Symbol">=</a> <a id="3290" href="Utils.Reflection.Tactic.html#1943" class="Function">evalTC</a> <a id="3297" href="Prelude.Function.html#911" class="Function Operator">$</a> <a id="3299" href="Utils.Reflection.Tactic.html#3152" class="Function">getTelescope</a> <a id="3312" href="Utils.Reflection.Tactic.html#3286" class="Bound">s</a>

<a id="getSetLevel"></a><a id="3315" href="Utils.Reflection.Tactic.html#3315" class="Function">getSetLevel</a> <a id="3327" class="Symbol">:</a> <a id="3329" href="Agda.Builtin.Reflection.html#4732" class="Function">Type</a> <a id="3334" class="Symbol">→</a> <a id="3336" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="3339" href="Agda.Builtin.Reflection.html#4661" class="Datatype">Term</a>
<a id="3344" href="Utils.Reflection.Tactic.html#3315" class="Function">getSetLevel</a> <a id="3356" class="Symbol">(</a><a id="3357" href="Agda.Builtin.Reflection.html#5145" class="InductiveConstructor">agda-sort</a> <a id="3367" class="Symbol">(</a><a id="3368" href="Agda.Builtin.Reflection.html#5298" class="InductiveConstructor">set</a> <a id="3372" href="Utils.Reflection.Tactic.html#3372" class="Bound">t</a><a id="3373" class="Symbol">))</a> <a id="3376" class="Symbol">=</a> <a id="3378" href="Prelude.Monad.html#576" class="Function">return</a> <a id="3385" href="Utils.Reflection.Tactic.html#3372" class="Bound">t</a>
<a id="3387" href="Utils.Reflection.Tactic.html#3315" class="Function">getSetLevel</a> <a id="3399" class="Symbol">(</a><a id="3400" href="Utils.Reflection.Core.html#696" class="InductiveConstructor">`Set</a> <a id="3405" href="Utils.Reflection.Tactic.html#3405" class="Bound">n</a><a id="3406" class="Symbol">)</a> <a id="3408" class="Symbol">=</a> <a id="3410" href="Agda.Builtin.Reflection.html#8757" class="Postulate">quoteTC</a> <a id="3418" class="Symbol">(</a><a id="3419" href="Utils.Reflection.Tactic.html#3441" class="Function">fromℕ</a> <a id="3425" href="Utils.Reflection.Tactic.html#3405" class="Bound">n</a><a id="3426" class="Symbol">)</a>
  <a id="3430" class="Keyword">where</a> 
    <a id="3441" href="Utils.Reflection.Tactic.html#3441" class="Function">fromℕ</a> <a id="3447" class="Symbol">:</a> <a id="3449" href="Agda.Builtin.Nat.html#177" class="Datatype">ℕ</a> <a id="3451" class="Symbol">→</a> <a id="3453" href="Agda.Primitive.html#582" class="Postulate">Level</a>
    <a id="3463" href="Utils.Reflection.Tactic.html#3441" class="Function">fromℕ</a> <a id="3469" href="Agda.Builtin.Nat.html#195" class="InductiveConstructor">zero</a> <a id="3474" class="Symbol">=</a> <a id="3476" href="Agda.Primitive.html#749" class="Primitive">lzero</a>
    <a id="3486" href="Utils.Reflection.Tactic.html#3441" class="Function">fromℕ</a> <a id="3492" class="Symbol">(</a><a id="3493" href="Agda.Builtin.Nat.html#208" class="InductiveConstructor">suc</a> <a id="3497" href="Utils.Reflection.Tactic.html#3497" class="Bound">n</a><a id="3498" class="Symbol">)</a> <a id="3500" class="Symbol">=</a> <a id="3502" href="Agda.Primitive.html#765" class="Primitive">lsuc</a> <a id="3507" class="Symbol">(</a><a id="3508" href="Utils.Reflection.Tactic.html#3441" class="Function">fromℕ</a> <a id="3514" href="Utils.Reflection.Tactic.html#3497" class="Bound">n</a><a id="3515" class="Symbol">)</a>
<a id="3517" href="Utils.Reflection.Tactic.html#3315" class="Function">getSetLevel</a> <a id="3529" class="Symbol">(</a><a id="3530" href="Agda.Builtin.Reflection.html#4919" class="InductiveConstructor">def</a> <a id="3534" class="Symbol">(</a><a id="3535" class="Keyword">quote</a> <a id="3541" href="Agda.Primitive.html#311" class="Primitive">Set</a><a id="3544" class="Symbol">)</a> <a id="3546" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a><a id="3548" class="Symbol">)</a> <a id="3550" class="Symbol">=</a> <a id="3552" href="Prelude.Monad.html#576" class="Function">return</a> <a id="3559" class="Symbol">(</a><a id="3560" class="Keyword">quoteTerm</a> <a id="3570" href="Agda.Primitive.html#749" class="Primitive">lzero</a><a id="3575" class="Symbol">)</a>
<a id="3577" href="Utils.Reflection.Tactic.html#3315" class="Function">getSetLevel</a> <a id="3589" class="Symbol">(</a><a id="3590" href="Agda.Builtin.Reflection.html#4919" class="InductiveConstructor">def</a> <a id="3594" class="Symbol">(</a><a id="3595" class="Keyword">quote</a> <a id="3601" href="Agda.Primitive.html#311" class="Primitive">Set</a><a id="3604" class="Symbol">)</a> <a id="3606" href="Prelude.List.html#591" class="InductiveConstructor Operator">[</a> <a id="3608" href="Agda.Builtin.Reflection.html#3706" class="InductiveConstructor">arg</a> <a id="3612" class="Symbol">_</a> <a id="3614" href="Utils.Reflection.Tactic.html#3614" class="Bound">x</a> <a id="3616" href="Prelude.List.html#591" class="InductiveConstructor Operator">]</a><a id="3617" class="Symbol">)</a> <a id="3619" class="Symbol">=</a> <a id="3621" href="Prelude.Monad.html#576" class="Function">return</a> <a id="3628" href="Utils.Reflection.Tactic.html#3614" class="Bound">x</a>
<a id="3630" href="Utils.Reflection.Tactic.html#3315" class="CatchallClause Function">getSetLevel</a><a id="3641" class="CatchallClause"> </a><a id="3642" href="Utils.Reflection.Tactic.html#3642" class="CatchallClause Bound">t</a> <a id="3644" class="Symbol">=</a> <a id="3646" href="Agda.Builtin.Reflection.html#8757" class="Postulate">quoteTC</a> <a id="3654" href="Utils.Reflection.Tactic.html#3642" class="Bound">t</a> <a id="3656" href="Prelude.Monad.html#396" class="Field Operator">&gt;&gt;=</a> <a id="3660" class="Symbol">λ</a> <a id="3662" href="Utils.Reflection.Tactic.html#3662" class="Bound">t</a> <a id="3664" class="Symbol">→</a>
                  <a id="3684" href="Agda.Builtin.Reflection.html#8483" class="Postulate">typeError</a> <a id="3694" href="Prelude.List.html#591" class="InductiveConstructor Operator">[</a> <a id="3696" href="Agda.Builtin.Reflection.html#7891" class="InductiveConstructor">strErr</a> <a id="3703" href="Prelude.Function.html#911" class="Function Operator">$</a> <a id="3705" href="Utils.Reflection.Show.html#1461" class="Function">showTerm</a> <a id="3714" href="Utils.Reflection.Tactic.html#3662" class="Bound">t</a> <a id="3716" href="Prelude.Monoid.html#175" class="Field Operator">&lt;&gt;</a> <a id="3719" class="String">&quot; level error!&quot;</a> <a id="3735" href="Prelude.List.html#591" class="InductiveConstructor Operator">]</a>


<a id="3739" class="Comment">-- Rename names in a telescope to the first letter of the given type,</a>
<a id="3809" class="Comment">-- if no name is given</a>
<a id="renameUnderscore"></a><a id="3832" href="Utils.Reflection.Tactic.html#3832" class="Function">renameUnderscore</a> <a id="3849" class="Symbol">:</a> <a id="3851" href="Agda.Builtin.Reflection.html#4744" class="Function">Telescope</a> <a id="3861" class="Symbol">→</a> <a id="3863" href="Agda.Builtin.Reflection.html#8270" class="Postulate">TC</a> <a id="3866" href="Agda.Builtin.Reflection.html#4744" class="Function">Telescope</a>
<a id="3876" href="Utils.Reflection.Tactic.html#3832" class="Function">renameUnderscore</a> <a id="3893" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>        <a id="3903" class="Symbol">=</a> <a id="3905" href="Prelude.Monad.html#576" class="Function">return</a> <a id="3912" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>
<a id="3915" href="Utils.Reflection.Tactic.html#3832" class="Function">renameUnderscore</a> <a id="3932" class="Symbol">((</a><a id="3934" class="String">&quot;_&quot;</a> <a id="3938" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="3940" href="Utils.Reflection.Tactic.html#3940" class="Bound">x</a><a id="3941" class="Symbol">@(</a><a id="3943" href="Agda.Builtin.Reflection.html#3706" class="InductiveConstructor">arg</a> <a id="3947" href="Utils.Reflection.Core.html#830" class="InductiveConstructor">visible-relevant-ω</a> <a id="3966" href="Utils.Reflection.Tactic.html#3966" class="Bound">`A</a><a id="3968" class="Symbol">))</a> <a id="3971" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="3973" href="Utils.Reflection.Tactic.html#3973" class="Bound">as</a><a id="3975" class="Symbol">)</a> <a id="3977" class="Symbol">=</a> <a id="3979" class="Keyword">do</a>
  <a id="3984" href="Utils.Reflection.Tactic.html#3984" class="Bound">s</a> <a id="3986" href="Prelude.Monad.html#396" class="Field Operator">←</a> <a id="3988" href="Utils.Reflection.Tactic.html#1651" class="Function">formatErrorPart</a> <a id="4004" href="Prelude.Function.html#911" class="Function Operator">$</a> <a id="4006" href="Agda.Builtin.Reflection.html#7922" class="InductiveConstructor">termErr</a> <a id="4014" href="Utils.Reflection.Tactic.html#3966" class="Bound">`A</a>
  <a id="4019" class="Comment">-- let s = ⇑ [ maybe′ toLower &#39;x&#39; $ head (⇑ s ⦂ List Char) ]</a>
  <a id="4082" href="Agda.Builtin.Reflection.html#8945" class="Postulate">extendContext</a> <a id="4096" href="Utils.Reflection.Tactic.html#3984" class="Bound">s</a> <a id="4098" href="Utils.Reflection.Tactic.html#3940" class="Bound">x</a> <a id="4100" href="Prelude.Function.html#911" class="Function Operator">$</a> <a id="4102" class="Symbol">((</a><a id="4104" class="String">&quot;x&quot;</a> <a id="4108" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4110" href="Utils.Reflection.Tactic.html#3940" class="Bound">x</a><a id="4111" class="Symbol">)</a> <a id="4113" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷_</a><a id="4115" class="Symbol">)</a> <a id="4117" href="Prelude.Functor.html#338" class="Function Operator">&lt;$&gt;</a> <a id="4121" href="Utils.Reflection.Tactic.html#3832" class="Function">renameUnderscore</a> <a id="4138" href="Utils.Reflection.Tactic.html#3973" class="Bound">as</a>
<a id="4141" href="Utils.Reflection.Tactic.html#3832" class="CatchallClause Function">renameUnderscore</a><a id="4157" class="CatchallClause"> </a><a id="4158" class="CatchallClause Symbol">(</a><a id="4159" href="Utils.Reflection.Tactic.html#4159" class="CatchallClause Bound">a</a><a id="4160" class="CatchallClause Symbol">@(</a><a id="4162" href="Utils.Reflection.Tactic.html#4162" class="CatchallClause Bound">s</a><a id="4163" class="CatchallClause"> </a><a id="4164" href="Agda.Builtin.Sigma.html#209" class="CatchallClause InductiveConstructor Operator">,</a><a id="4165" class="CatchallClause"> </a><a id="4166" href="Utils.Reflection.Tactic.html#4166" class="CatchallClause Bound">x</a><a id="4167" class="CatchallClause Symbol">)</a><a id="4168" class="CatchallClause"> </a><a id="4169" href="Agda.Builtin.List.html#173" class="CatchallClause InductiveConstructor Operator">∷</a><a id="4170" class="CatchallClause"> </a><a id="4171" href="Utils.Reflection.Tactic.html#4171" class="CatchallClause Bound">as</a><a id="4173" class="CatchallClause Symbol">)</a> <a id="4175" class="Symbol">=</a> <a id="4177" href="Agda.Builtin.Reflection.html#8945" class="Postulate">extendContext</a> <a id="4191" href="Utils.Reflection.Tactic.html#4162" class="Bound">s</a> <a id="4193" href="Utils.Reflection.Tactic.html#4166" class="Bound">x</a> <a id="4195" href="Prelude.Function.html#911" class="Function Operator">$</a> <a id="4197" href="Utils.Reflection.Tactic.html#4159" class="Bound">a</a> <a id="4199" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷_</a> <a id="4202" href="Prelude.Functor.html#338" class="Function Operator">&lt;$&gt;</a> <a id="4206" href="Utils.Reflection.Tactic.html#3832" class="Function">renameUnderscore</a> <a id="4223" href="Utils.Reflection.Tactic.html#4171" class="Bound">as</a>
</pre></body></html>